<!DOCTYPE html>
<html>
<head>
    <title>Working Title</title>


<link rel="stylesheet" href="css/style.css">

<!-- Latest compiled and minified CSS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
  	</script>


 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- LINK TO FIREBASE GOES HERE -->
  <script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js"></script>


<!-- Optional theme -->
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">-->

<!-- Latest compiled and minified JavaScript -->
<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>-->



</head>
	<body>

<div class="container">

    <br>

    <!-- Jumbotron -->
    <div class="jumbotron">
      <h1 class="text-center">ZED: Migrating Made Easy</h1>
      <h3 class="text-center">Search a job. Find a home. Make the move.</h3>
    </div>

    <div class="row">

      <!-- Sign-Up Panel-->
      <div class="col-md-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Your Future Awaits!</h3>
          </div>
          <div class="panel-body">

            <!-- Sign-up Form (note the various input "types")-->

            <form role="form">
              <div class="form-group">
                <label for="job-input">Job Title:</label>
                <input class="form-control" id="job-input" type="text">
              </div>
              <div class="form-group">
                <label for="address-input">Address:</label>
                <input class="form-control" id="address-input" type="text">
              </div>
              <div class="form-group">
                <label for="city-state-input">City and State:</label>
                <input class="form-control" id="city-state-input" type="text">
              </div>
              <div class="form-group">
                <label for="radius-input">Radius in Miles:</label>
                <input class="form-control" id="radius-input" type="text">
              </div>
              <div class="form-group">
                <!--<label for="age-input">Salary Range:</label> -->
                

                <!-- dropdown options -->
                <div class="form-group">
                  <label for="salaryRange-input">Select list:</label>
                  <select class="form-control" id="salaryRange-input">
                    <option>$20,000 - $40,000</option>
                    <option>$40,000 - $70,000</option>
                    <option>$70,000 - $100,000</option>
                    <option>$100,000 - $300,000</option>
                    <option>$300,000+</option>
                  </select>
                </div>
                  <!-- <div class="dropdown">
                    <button class="btn btn-default dropdown-toggle" id="salaryRange-input" type="button" data-toggle="dropdown">Salary Range
                    <span class="caret"></span></button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                      <li>$20,000 - $40,000</li>
                      <li>$40,000 - $70,000</li>
                      <li>$70,000 - $100,000</li>
                      <li>$100,000 - $300,000</li>
                      <li>$300,000+</li>
                    </ul>
                  </div> -->
                </div>

                <!-- input class="form-control" id="age-input" type="number"> -->
              
              <button class="btn btn-default   pull-right" id="add-user" type="submit">Submit</button>
            </form>

            </div>
          </div>

        </div>

      

      <!-- Most Recent Member Panel-->
      <div class="col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Most Recent Job Search</h3>
          </div>
          <div class="panel-body" id="recent-member">
            <h2>Most Recent Job:</h2>
            <h2 id="job-display"></h2>
            <h4>Location:</h4>
            <h4 id="address-display"></h4>
            <h4 id="city-state-display"></h4>
            <h4>Radius:</h4>
            <h4 id="radius-display"></h4>
            <h4>Salary Range:</h4>
            <h4 id="salaryRange-display"></h4>
          </div>
        </div>
      </div> 
    </div>
  </div>
</div>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery.js"></script>

  <!-- Script -->
  <script>
    // ========================================== START CODING BELOW!!

    // Initialize Firebase
  var config = {
    apiKey: "AIzaSyD6byBIx9RMcfhESzbA7P95LHhANnW4BhA",
    authDomain: "zedprojectone.firebaseapp.com",
    databaseURL: "https://zedprojectone.firebaseio.com",
    projectId: "zedprojectone",
    storageBucket: "zedprojectone.appspot.com",
    messagingSenderId: "954689702432"
    };

    firebase.initializeApp(config);

    // Create a variable to reference the database.
    var database = firebase.database();

    // Initial Values
    var job;
    var anythingElse;
    var salary;   //ask about inputting dropdowns

    // Capture Button Click
    $(document).on("click", "#add-user", function(event) {
      event.preventDefault();

      // Grabbed values from text boxes
      job = $("#job-input").val().trim();
      address = $("#address-input").val().trim();
      cityState = $("#city-state-input").val().trim();
      radius = $("#radius-input").val().trim();
      console.log(radius);
      salary = $("#salaryRange-input").val().trim();
      console.log(salary);
      // Code for handling the push
      database.ref().push({
        job: job,
        address: address,
        cityState: cityState,
        salary: salary,
        radius: radius,
        dateAdded: firebase.database.ServerValue.TIMESTAMP
      });

    });

    // Firebase watcher + initial loader + order/limit HINT: .on("child_added"
    database.ref().orderByChild("dateAdded").limitToLast(1).on("child_added", function(snapshot) {
      // storing the snapshot.val() in a variable for convenience
      var sv = snapshot.val();

      // Console.loging the last user's data
      console.log(sv.job);
      //console.log(sv.anythingElse);
      console.log(sv.salary);

      // Change the HTML to reflect
      $("#job-display").html(sv.job);
      $("#address-display").html(sv.addressElse);
      $("#salaryRange-display").html(sv.salary);
      //sets city and state to google maps search
      $("#city-state-display").html(sv.cityState);
      $("#pac-input").attr("value",sv.cityState);
      $("#radius-display").html(sv.radius);

      // Handle the errors
    }, function(errorObject) {
      console.log("Errors handled: " + errorObject.code);
    });
  </script>




	<h1><a  id="jobInput">Job Search</a></h1>
		<br>
	
	
<!--google search box-->
	<input id="pac-input" class="controls" type="text" placeholder="Search Box">
			
		<div id = "map"></div>

	


	<!--Zillow Widget, we mignt be able to use this-->
	<div id = "zill"></div>
	<div id="zillow-large-search-box-widget-container" style="width:432px;overflow:hidden;background-color:#e7f1fd;color:#555; font: normal normal normal 13px verdana,arial,sans-serif;line-height:13px;margin:0 auto;padding:0;text-align:center;border:1px solid #adcfff;letter-spacing:0;text-transform:none;">
		
		<h2 style="color:#d61;text-align:left;font-size:20px;line-height:20px;font-weight:normal;float:left;width:200px;margin-left:10px;margin-top:5px;letter-spacing:0;text-transform:none;">Find Homes
		</h2>

			<div style="float:right;"><a href="https://www.zillow.com/" target="_blank" rel="	powered-by-zillow.gif"></img></a>
			</div>

			<iframe scrolling="no" src="https://www.zillow.com/widgets/search/LargeSearchBoxWidget.htm?did=zillow-large-search-box-iframe-widget&type=iframe&rgname=Dallas+Tx&shvi=yes" width="430" frameborder="0" height="400">
				
			</iframe>

		<table id="zillow-tnc-widget-footer-links" width="100%" style="font: normal normal normal 10px verdana,arial,sans-serif;text-align:left;line-height:12px;margin:10px 5px;padding:0;border-spacing:0;border-collapse:collapse;">

		<tbody style="margin:0;padding:0;">

		<tr style="margin:0;padding:0;">

			<td style="font-weight:bold;font-size:10px;color:#555;text-align:left;margin:0;padding:0;">QUICK LINKS:</td>
		</tr>

		<tr style="margin:0;padding:0;">

			<td style="margin:0;padding:0;"><span id="widgetFooterLink" class="regionBasedLink"><a href="https://www.zillow.com/dallas-tx/" target="_blank" rel="nofollow" style="color:#36b;font-family:verdana,arial,sans-serif;font-size:10px;margin:0 5px 0 0;padding:0;text-decoration:none;"><span class="region">dallas</span> Real Estate Listing</a></span>
			</td>

			<td style="margin:0;padding:0;"><span id="widgetFooterLink"><a href="https://www.zillow.com/mortgage-rates/" target="_blank" rel="nofollow" style="color:#36b;font-family:verdana,arial,sans-serif;font-size:10px;margin:0 5px 0 0;padding:0;text-decoration:none;">Mortgage Rates</a></span>
			</td>

			<td style="margin:0;padding:0;"><span id="widgetFooterLink"><a href="https://www.zillow.com/refinance/" target="_blank" rel="nofollow" style="color:#36b;font-family:verdana,arial,sans-serif;font-size:10px;margin:0 5px 0 0;padding:0;text-decoration:none;">Refinancing</a></span>
			</td>

		</tr>

		<tr style="margin:0;padding:0;">

			<td style="margin:0;padding:0;"><span id="widgetFooterLink" class="regionBasedLink"><a href="https://www.zillow.com/dallas-tx/foreclosures/" target="_blank" rel="nofollow" style="color:#36b;font-size:10px;margin:0 5px 0 0;padding:0;text-decoration:none;"><span class="region">Dallas</span> Foreclosures</a></span>
			</td>

			<td style="margin:0;padding:0;"><span id="widgetFooterLink"><a href="https://www.zillow.com/mortgage-calculator/" target="_blank" rel="nofollow" style="color:#36b;font-size:10px;margin:0 5px 0 0;padding:0;text-decoration:none;">Mortgage Calculators</a></span>
			</td>

			<td style="margin:0;padding:0;"><span id="widgetFooterLink"><a href="https://www.zillow.com/mortgage-rates/" target="_blank" rel="nofollow" style="color:#36b;font-size:10px;margin:0 5px 0 0;padding:0;text-decoration:none;">Purchase Loans</a></span>
			</td>

			</tr>
			</tbody>
		</table>
	</div>



	<!--Glass Door API Call-->
	
		

		<!--You must use the following attribution when displaying Glassdoor's API results. Copy the code below and paste it near the results on your web page:-->
		<a href='https://www.glassdoor.com/index.htm'>powered by <img src='https://www.glassdoor.com/static/img/api/glassdoor_logo_80.png' title='Job Search' /></a>


		

	<script src = js/javascript.js ></script>
	<!--<script src = js/zillowJS.js ></script>
	<script src = js/glassDoorJS.js ></script>-->

	</body>
</html>